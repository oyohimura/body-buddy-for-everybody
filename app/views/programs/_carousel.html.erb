<div id="carouselExampleControlsNoTouching" class="carousel slide carousel-fade" data-bs-touch="false" data-bs-interval="true" data-bs-ride="carousel">
  <% programs = @programs.shuffle %>
  <div class="carousel-indicators">
    <% programs.each_with_index do |program, i| %>
      <% if program.medias.first == programs.first.medias.first %>
        <button type="button" data-bs-target="#carouselExampleControlsNoTouching" data-bs-interval="4000"  data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
      <% else %>
        <button type="button" data-bs-target="#carouselExampleControlsNoTouching" data-bs-interval="4000" data-bs-slide-to="<%= i %>" aria-label="Slide <%= i+1 %>"></button>
      <% end %>
    <% end %>
  </div>
  <div class="carousel-inner">
    <% programs.each do |program| %>
      <% if program.medias.first == programs.first.medias.first %>
        <div class="carousel-item active" data-bs-interval="4000">
          <%= cl_image_tag program.medias.first.key, :width=>1000, :height=>500, :gravity=>"auto", :crop=>"fill", :background=>"white", class: 'd-block w-100', data: 'color: lightblue' %>
          <div class="carousel-caption d-none d-md-block">
            <h3>
            <%= link_to program.name.capitalize, program_path(program) %>
             by
            <%= link_to program.user.first_name, user_profile_path(program.user) %>
            </h3>
            <p><%= truncate program.description, length: 500, separator: ' ' %></p>
          </div>
        </div>
        <% else %>
        <div class="carousel-item" data-bs-interval="4000">
          <%= cl_image_tag program.medias.first.key, :width=>1000, :height=>500, :gravity=>"auto", :crop=>"fill",  :background=>"white", class: 'd-block w-100', data: 'color: lightblue' %>
          <div class="carousel-caption d-none d-md-block">
            <h3>
            <%= link_to program.name.capitalize, program_path(program) %>
             by
            <%= link_to program.user.first_name, user_profile_path(program.user) %>
            </h3>
            <p><%= truncate program.description, length: 500, separator: ' ' %></p>
          </div>
        </div>
      <% end %>
    <% end %>
  </div>
  <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControlsNoTouching" data-bs-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Previous</span>
  </button>
  <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControlsNoTouching" data-bs-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Next</span>
  </button>
</div>
